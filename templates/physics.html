<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Vis Network | Physics | Playing with Physics</title>

    <style type="text/css">
      body {
        font: 10pt sans;
      }
      #mynetwork {
        float: left;
        width: 600px;
        height: 600px;
        margin: 5px;
        border: 1px solid lightgray;
      }
      #config {
        float: left;
        width: 400px;
        height: 600px;
      }
    </style>

    <script src="{{url_for('static', filename='node_modules/vis-network/standalone/umd/vis-network.min.js')}}"></script>

    <script
      type="text/javascript"
      src="https://unpkg.com/alea@1.0.0/alea.js"
    ></script>

    <script type="text/javascript">
      var nodes = null;
      var edges = null;
      var network = null;

      function draw(g) {
        nodes = [];
        edges = [];
        // randomly create some nodes and edges
        var data = vis.parseDOTNetwork(g);
        console.log(data);

        // create a network
        var container = document.getElementById("mynetwork");

        var options = {
            edges: {
                smooth: {
                  forceDirection: "none",
                  roundness: 0
                }
            },
            physics: {
                barnesHut: {
                    gravitationalConstant: -758211,
                    centralGravity: 0.6,
                    avoidOverlap: 1
                },
            stabilization: false,
            timestep: 0.3,
            wind: { x: 0, y: 0 },
          },
          configure: {
            filter: function (option, path) {
              if (path.indexOf("physics") !== -1) {
                return true;
              }
              if (path.indexOf("smooth") !== -1 || option === "smooth") {
                return true;
              }
              return false;
            },
            container: document.getElementById("config"),
          },
        };
        network = new vis.Network(container, data, options);
      }
    </script>
  </head>

  <body onload="draw({{ graph }});">
    <h2>kmallocx with Physics</h2>
    <br />
    <div id="mynetwork"></div>
    <div id="config"></div>

    <p id="selection"></p>
  </body>
</html>